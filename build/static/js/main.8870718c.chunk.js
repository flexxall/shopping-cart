(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{1586:function(e,t,c){},1588:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(26),i=c.n(r),s=(c(86),c(44)),j=c(11),l=(c(87),c(18)),o=c(7),d=c(1603),b=c(1594),u=c(73),O=c(1595),h=c(1600),p=c(75),y=c(32),x=c(27),m=c.n(x),f=c(3),g=function(e,t){switch(t.type){case"ADD_TO_CART":return Object(f.a)(Object(f.a)({},e),{},{cart:[].concat(Object(l.a)(e.cart),[Object(f.a)(Object(f.a)({},t.payload),{},{qty:1})])});case"REMOVE_FROM_CART":return Object(f.a)(Object(f.a)({},e),{},{cart:e.cart.filter((function(e){return e.id!==t.payload.id}))});case"CHANGE_CART_QTY":return Object(f.a)(Object(f.a)({},e),{},{cart:e.cart.filter((function(e){return e.id===t.payload.id?e.qty=t.payload.qty:e.qty}))});default:return e}},R=function(e,t){switch(t.type){case"SORT_BY_PRICE":return Object(f.a)(Object(f.a)({},e),{},{sort:t.payload});case"FILTER_BY_STOCK":return Object(f.a)(Object(f.a)({},e),{},{byStock:!e.byStock});case"FILTER_BY_DELIVERY":return Object(f.a)(Object(f.a)({},e),{},{byFastDelivery:!e.byFastDelivery});case"FILTER_BY_RATING":return Object(f.a)(Object(f.a)({},e),{},{byRating:t.payload});case"FILTER_BY_SEARCH":return Object(f.a)(Object(f.a)({},e),{},{searchQuery:t.payload});case"CLEAR_FILTERS":return{byStock:!1,byFastDelivery:!1,byRating:0,searchQuery:""};default:return e}},C=c(2),v=Object(a.createContext)();m.a.seed(99);var _=function(){return Object(a.useContext)(v)},T=function(e){var t=e.children,c=Object(l.a)(Array(20)).map((function(){return{id:m.a.datatype.uuid(),name:m.a.commerce.productName(),price:m.a.commerce.price(),image:m.a.random.image(),inStock:m.a.random.arrayElement([0,3,5,6,7]),fastDelivery:m.a.datatype.boolean(),ratings:m.a.random.arrayElement([1,2,3,4,5])}})),n=Object(a.useReducer)(g,{products:c,cart:[]}),r=Object(o.a)(n,2),i=r[0],s=r[1],j=Object(a.useReducer)(R,{byStock:!1,byFastDelivery:!1,byRating:0,searchQuery:""}),d=Object(o.a)(j,2),b=d[0],u=d[1];return Object(C.jsx)(v.Provider,{value:{state:i,dispatch:s,productState:b,productDispatch:u},children:t})},k=function(e){var t=e.rating,c=e.onClick,a=e.style;return Object(C.jsx)(C.Fragment,{children:Object(l.a)(Array(5)).map((function(e,n){return Object(C.jsx)("span",{onClick:function(){return c(n)},style:a,children:t>n?Object(C.jsx)(y.b,{size:"15px"}):Object(C.jsx)(y.c,{size:"15px"})},n)}))})},E=function(){var e=_(),t=e.state.cart,c=e.dispatch,n=Object(a.useState)(),r=Object(o.a)(n,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){s(t.reduce((function(e,t){return e+Number(t.price*t.qty)}),0))}),[t]),Object(C.jsxs)("div",{className:"home",children:[Object(C.jsx)("div",{className:"productContainer",children:Object(C.jsx)(d.a,{children:t.map((function(e){return Object(C.jsx)(d.a.Item,{ley:e.id,children:Object(C.jsxs)(b.a,{children:[Object(C.jsxs)(u.a,{md:2,children:[Object(C.jsx)(O.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})," "]}),Object(C.jsx)(u.a,{md:2,children:Object(C.jsx)("span",{children:e.name})}),Object(C.jsxs)(u.a,{md:2,children:["@ ",e.price]}),Object(C.jsx)(u.a,{md:2,children:Object(C.jsx)(k,{rating:e.ratings})}),Object(C.jsx)(u.a,{md:"2",children:Object(C.jsx)(h.a.Control,{as:"select",value:e.qty,onChange:function(t){return c({type:"CHANGE_CART_QTY",payload:{id:e.id,qty:t.target.value}})},children:Object(l.a)(Array(e.inStock).keys()).map((function(e){return Object(C.jsx)("option",{children:e+1},e+1)}))})}),Object(C.jsx)(u.a,{md:2,children:Object(C.jsx)(p.a,{type:"button",variant:"light",onClick:function(){c({type:"REMOVE_FROM_CART",payload:e})},children:Object(C.jsx)(y.a,{size:"20px"})})})]})})}))})}),Object(C.jsxs)("div",{className:"filters summary",children:[Object(C.jsxs)("span",{className:"title",children:["Subtotal (",t.length,") items"]}),Object(C.jsxs)("span",{style:{fontWeight:700,fontSize:20},children:["Total: @ ",i]}),Object(C.jsx)(p.a,{type:"button",disabled:0===t.length,children:"Proceed to Checkout"})]})]})},S=c(1599),F=c(1596),I=c(74),A=c(1601),D=c(1598),N=c(1597),L=c(80),Y=function(){var e=_(),t=e.state.cart,c=e.dispatch,a=e.productDispatch;return Object(C.jsx)(S.a,{sticky:"top",bg:"dark",variant:"dark",style:{height:80},children:Object(C.jsxs)(F.a,{children:[Object(C.jsx)(S.a.Brand,{children:Object(C.jsx)(s.b,{to:"/",children:"Shopping Cart"})}),Object(C.jsx)(S.a.Text,{className:"search",children:Object(C.jsx)(I.a,{style:{width:500},placeholder:"Search a product",className:"m-auto",onChange:function(e){a({type:"FILTER_BY_SEARCH",payload:e.target.value})}})}),Object(C.jsx)(A.a,{children:Object(C.jsxs)(D.a,{align:"end",children:[Object(C.jsxs)(D.a.Toggle,{variant:"success",children:[Object(C.jsx)(L.a,{color:"white",size:"25px"}),Object(C.jsx)(N.a,{pill:!0,bg:"success",children:t.length})]}),Object(C.jsx)(D.a.Menu,{style:{minWidth:370},children:t.length>0?Object(C.jsxs)(C.Fragment,{children:[t.map((function(e){return Object(C.jsxs)("span",{className:"cartItem",children:[Object(C.jsx)("img",{src:e.image,className:"cartItemImage",alt:e.name}),Object(C.jsxs)("div",{className:"cartItemDetail",children:[Object(C.jsx)("span",{children:e.name}),Object(C.jsxs)("span",{children:["@ ",e.price.split(".")[0]]})]}),Object(C.jsx)(y.a,{size:"20px",style:{cursor:"pointer"},onClick:function(){return c({type:"REMOVE_FROM_CART",payload:e})}})]},e.id)})),Object(C.jsx)(s.b,{to:"/cart",children:Object(C.jsx)(p.a,{style:{width:"95%",margin:"0 10px"},children:"Go To Cart"})})]}):Object(C.jsx)("span",{style:{padding:10},children:"Cart is Empty!"})})]})})]})})},B=function(){var e=_(),t=e.productDispatch,c=e.productState,a=c.byStock,n=c.byFastDelivery,r=c.sort,i=c.byRating;return console.log(a,n,r,i),Object(C.jsxs)("div",{className:"filters",children:[Object(C.jsx)("span",{className:"title",children:"Filter Products"}),Object(C.jsx)("span",{children:Object(C.jsx)(h.a.Check,{inline:!0,label:"Price Ascending",name:"group1",type:"radio",id:"inline-1",onChange:function(){return t({type:"SORT_BY_PRICE",payload:"lowToHigh"})},checked:"lowToHigh"===r})}),Object(C.jsx)("span",{children:Object(C.jsx)(h.a.Check,{inline:!0,label:"Price Descending",name:"group1",type:"radio",id:"inline-2",onChange:function(){return t({type:"SORT_BY_PRICE",payload:"highToLow"})},checked:"highToLow"===r})}),Object(C.jsx)("span",{children:Object(C.jsx)(h.a.Check,{inline:!0,label:"Include Out of Stock",name:"group1",type:"checkbox",id:"inline-3",onChange:function(){return t({type:"FILTER_BY_STOCK"})},checked:a})}),Object(C.jsx)("span",{children:Object(C.jsx)(h.a.Check,{inline:!0,label:"Fast Delivery Only",name:"group1",type:"checkbox",id:"inline-4",onChange:function(){return t({type:"FILTER_BY_DELIVERY"})},checked:n})}),Object(C.jsxs)("span",{children:[Object(C.jsx)("label",{style:{paddingRight:10},children:"Rating: "}),Object(C.jsx)(k,{rating:i,style:{cursor:"pointer"},onClick:function(e){return t({type:"FILTER_BY_RATING",payload:e+1})}})]}),Object(C.jsx)(p.a,{variant:"light",onClick:function(){return t({type:"CLEAR_FILTERS"})},children:"Clear Filters"})]})},w=c(1602),M=function(e){var t=e.prod,c=_(),a=c.state.cart,n=c.dispatch;return Object(C.jsxs)("div",{className:"products",children:[t.name,Object(C.jsxs)(w.a,{children:[Object(C.jsx)(w.a.Img,{variant:"top",src:t.image,alt:t.name}),Object(C.jsxs)(w.a.Body,{children:[Object(C.jsx)(w.a.Title,{children:t.name}),Object(C.jsxs)(w.a.Subtitle,{children:[Object(C.jsxs)("span",{children:["@ ",t.price.split(".")[0]]}),t.fastDelivery?Object(C.jsx)("div",{children:"Fast Delivery"}):Object(C.jsx)("div",{children:"4 day delivery"}),Object(C.jsx)(k,{rating:t.ratings})]}),a.some((function(e){return e.id===t.id}))?Object(C.jsx)(p.a,{onClick:function(){n({type:"REMOVE_FROM_CART",payload:t})},variant:"danger",children:"Remove from cart"}):Object(C.jsx)(p.a,{onClick:function(){n({type:"ADD_TO_CART",payload:t})},disabled:!t.inStock,children:t.inStock?"Add to Cart":"Out of Stock"})]})]})]})},P=(c(1586),function(){var e=_(),t=e.state.products,c=e.productState,a=c.sort,n=c.byStock,r=c.byFastDelivery,i=c.byRating,s=c.searchQuery;return Object(C.jsxs)("div",{className:"home",children:[Object(C.jsx)(B,{}),Object(C.jsx)("div",{className:"productContainer",children:function(){var e=t;return a&&(e=e.sort((function(e,t){return"lowToHigh"===a?e.price-t.price:t.price-e.price}))),n||(e=e.filter((function(e){return e.inStock}))),r&&(e=e.filter((function(e){return e.fastDelivery}))),i&&(e=e.filter((function(e){return e.ratings>=i}))),s&&(e=e.filter((function(e){return e.name.toLowerCase().includes(s)}))),e}().map((function(e){return Object(C.jsx)(M,{prod:e},e.id)}))})]})});var q=function(){return Object(C.jsxs)(s.a,{children:[Object(C.jsx)(Y,{}),Object(C.jsxs)("div",{children:[Object(C.jsx)(j.a,{path:"/",exact:!0,children:Object(C.jsx)(P,{})}),Object(C.jsx)(j.a,{path:"/cart",exact:!0,children:Object(C.jsx)(E,{})})]})]})};c(1587);i.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(T,{children:Object(C.jsx)(q,{})})}),document.getElementById("root"))},86:function(e,t,c){},87:function(e,t,c){}},[[1588,1,2]]]);
//# sourceMappingURL=main.8870718c.chunk.js.map